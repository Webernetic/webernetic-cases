.stagesSection {
  padding-inline: clamp(30px, 5.71vw, 80px);
  margin-bottom: clamp(70px, 7.14vw, 100px);

  &_title {
    margin-bottom: clamp(18px, 1.43vw, 20px);
  }

  &_item {
    display: grid;
    position: relative;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto 1fr;
    grid-template-areas:
      'title title'
      'a b'
      'c b';
    gap: 20px;
    background-color: #f6faff;
    margin: 0;
    padding: clamp(40px, 5vw, 70px) clamp(20px, 3.57vw, 50px) 0
      clamp(20px, 3.57vw, 50px);
    border-radius: 30px;
    height: auto;
    box-shadow: 0px 4px 4px 0px #a1bff078;
    margin-bottom: 4px;
  }

  &__paddingBottom {
    padding: clamp(30px, 3.57vw, 50px);
  }

  &_itemTitle {
    display: flex;
    align-items: center;
    position: relative;
    grid-area: title;
    margin-bottom: clamp(5px, 1.07vw, 15px);
  }

  &_itemTitleText {
    position: relative;
    color: #0c0c0c;
    font-weight: $font-weight-bold;
    line-height: 147%;
    z-index: 10;
    opacity: 100%;
  }

  &_itemTitleNumber {
    position: absolute;
    left: 6%;
    top: 50%;
    transform: translateY(-50%);
    color: #0b60eb;
    opacity: 15%;
    font-size: clamp(5.625rem, 11.43vw, 10rem);
    line-height: 1;
    z-index: 2;
  }

  &_itemDescription {
    grid-area: a;

    & > p {
      font-size: clamp(1rem, 1.86vw, 1.625rem);
      opacity: 80%;
    }
  }

  &_itemDescription2 {
    grid-area: c;
    & > p {
      font-size: clamp(1rem, 1.86vw, 1.625rem);
      opacity: 80%;
    }
  }

  &_itemSecondColumn {
    grid-area: b;
    & > p {
      font-size: clamp(1rem, 1.86vw, 1.625rem);
      opacity: 80%;
    }
  }

  &_itemInnerBlock {
    padding: clamp(12px, 2.38vw, 30px) clamp(12px, 2.77vw, 35px);
    height: fit-content;
    border-radius: clamp(10px, 1.59vw, 20px);
    background-color: $bg-white;
    font-size: clamp(1rem, 1.86vw, 1.625rem);
    color: #393939;
    opacity: 80%;

    & > h4 {
      color: #0c0c0c;
      font-size: clamp(1rem, 1.86vw, 1.625rem);
      opacity: 100%;
    }
  }

  &_descriptionText {
    font-size: clamp(1rem, 1.86vw, 1.625rem);
    line-height: 130%;
    color: #393939;
    opacity: 80%;
  }

  &_core {
    display: flex;
    gap: clamp(12px, 1.07vw, 15px);
    margin: 0;
    padding: 0;

    &:not(:last-of-type) {
      margin-bottom: clamp(10px, 1.43vw, 20px);
    }
  }

  &_coreNumber {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: clamp(36px, 3.2vw, 45px);
    width: 100%;
    height: clamp(36px, 3.2vw, 45px);
    background-color: #97b9f0;
    border-radius: 50%;
    color: $font-color-invert;
    font-size: clamp(1.25rem, 2vw, 1.75rem);
    font-weight: $font-weight-bold;
  }

  &_coreTitle {
    margin-block: 5px;
    margin-top: 7px;
    font-size: clamp(1rem, 1.86vw, 1.625rem);
    font-weight: $font-weight-bold;
    line-height: 130%;
    color: #393939;
    opacity: 100%;
  }

  &_itemImageWrapper {
    height: 100%;
    width: 100%;

    & > img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }

  &__secondSlideImage {
    background-image: url('./../assets/images/stage-image-1.png');
    background-size: auto 140%;
    background-repeat: no-repeat;
    background-position: center -20%;
  }

  &__thirdSlideImage {
    height: clamp(307px, 39vw, 489px);
    width: 90%;
  }

  &__4thSlideImage {
    position: relative;
    right: -10%;
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;

    & > img {
      height: auto;
    }
  }

  &_slideUl {
    display: flex;
    flex-direction: column;
    gap: 7px;
    margin: 0;
    padding: 0;
  }

  &_slideLi {
    margin: 0;
    padding: 0;
    position: relative;
    padding-left: 20px;
    color: #393939;
    font-size: clamp(1rem, 1.86vw, 1.625rem);
    line-height: 140%;
    opacity: 80%;

    &::before {
      content: '';
      display: block;
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      left: 7px;
      top: 0;
      transform: translateY(clamp(10px, 1.14vw, 16px));
      background-color: #393939;
    }
  }
}

@media (max-width: $breakpoints-lg) {
  .stagesSection {
    &__secondSlideImage {
      background-size: 100% auto;
      max-height: 303px;
    }
  }
}

@media (max-width: $breakpoints-md) {
  .stagesSection {
    padding-inline: 30px;

    &_item {
      padding-right: 20px;
      align-items: stretch;
      grid-template-columns: 1fr;
      grid-template-rows: auto auto auto 1fr;
      grid-template-areas:
        'title'
        'a'
        'b'
        'c';
    }

    &__secondSlideImage {
      background-size: auto 100%;
      background-position: center top;
    }

    &__thirdSlideImage {
      margin-inline: auto;
      margin-top: 37px;
      width: 60%;
    }

    &_slideLi::before {
      width: 3px;
      height: 3px;
    }

    &_4thSlide {
      grid-template-rows: auto auto 1fr;
      grid-template-areas:
        'title'
        'a'
        'b';
    }
  }
}

@media (max-width: $breakpoints-sm) {
  .stagesSection {
    &_itemTitleNumber {
      left: 10%;
    }

    &__secondSlideImage {
      background-size: contain;
      background-position: center center;
    }

    &__thirdSlideImage {
      position: relative;
      width: 100%;
      transform: translateX(38%);
    }

    &__4thSlideImage {
      width: 110%;
      right: auto;
    }

    &_itemInnerBlock {
      & > h4 {
        opacity: 80%;
      }
    }
  }
}

// кастомизация слайдера
.swiper {
  &_navWrapper {
    display: flex;
    flex-wrap: wrap;
    gap: clamp(5px, 1.07vw, 15px);
    padding: 0;
    margin: 0;
    margin-bottom: clamp(20px, 2.5vw, 35px);
  }

  &_navItem {
    gap: 10px;
    display: flex;
    align-items: center;
    padding: 0;
    margin: 0;
    padding: clamp(8.5px, 0.71vw, 10px) clamp(10px, 2.14vw, 30px);
    border-radius: 50px;
    background-color: $bg-secondary;
    font-size: clamp(1.25rem, 2vw, 1.75rem);
    line-height: 140%;
    white-space: nowrap;
    cursor: pointer;
  }

  &_activeNavItem {
    background-color: #3f484f;
    color: $font-color-invert;
  }
}

@media (max-width: $breakpoints-md) {
  .swiper {
    &_navItem {
      display: none;
    }

    &_navItemDisplay {
      display: flex;
    }
  }
}
